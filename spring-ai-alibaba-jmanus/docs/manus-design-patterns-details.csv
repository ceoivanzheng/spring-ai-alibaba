设计模式,模式类型,应用场景,实现类/接口,角色,职责描述,优势,使用频率,复杂度,扩展性
策略模式,行为型模式,计划执行策略选择,PlanExecutorInterface,抽象策略,定义执行计划的统一接口,算法族可互换,高,中,高
策略模式,行为型模式,计划执行策略选择,PlanExecutor,具体策略,实现标准顺序执行策略,支持基本执行流程,高,低,中
策略模式,行为型模式,计划执行策略选择,MapReducePlanExecutor,具体策略,实现MapReduce并行执行策略,支持高并发执行,中,高,高
策略模式,行为型模式,计划执行策略选择,PlanExecutorFactory,上下文,根据计划类型选择执行策略,封装策略选择逻辑,高,中,高
模板方法模式,行为型模式,工具执行框架,AbstractBaseTool,抽象模板,定义工具执行的骨架算法,统一工具调用流程,高,中,高
模板方法模式,行为型模式,工具执行框架,PlanningTool,具体实现,实现规划工具的具体逻辑,专门处理规划任务,高,中,中
模板方法模式,行为型模式,工具执行框架,FormInputTool,具体实现,实现表单输入工具的具体逻辑,处理用户输入交互,中,低,中
模板方法模式,行为型模式,工具执行框架,TerminateTool,具体实现,实现终止工具的具体逻辑,提供任务终止能力,中,低,低
模板方法模式,行为型模式,工具执行框架,DocLoaderTool,具体实现,实现文档加载工具的具体逻辑,处理文档加载任务,中,低,中
模板方法模式,行为型模式,计划执行框架,AbstractPlanExecutor,抽象模板,定义计划执行的骨架算法,统一执行流程控制,高,高,高
模板方法模式,行为型模式,智能体执行框架,BaseAgent,抽象模板,定义智能体执行的生命周期,统一智能体行为,高,高,高
工厂模式,创建型模式,对象创建管理,PlanningFactory,工厂类,创建规划协调器实例,封装复杂对象创建,中,中,中
工厂模式,创建型模式,对象创建管理,PlanExecutorFactory,工厂类,创建不同类型的执行器,根据类型创建执行器,高,中,高
组合模式,结构型模式,组件组合管理,PlanningCoordinator,组合对象,组合计划处理的各个组件,提供统一处理接口,中,中,中
组合模式,结构型模式,组件组合管理,PlanCreator,叶子组件,负责计划创建的具体实现,专门处理计划生成,中,高,中
组合模式,结构型模式,组件组合管理,PlanExecutorFactory,叶子组件,负责执行器工厂的具体实现,专门创建执行器,中,中,高
组合模式,结构型模式,组件组合管理,PlanFinalizer,叶子组件,负责计划完成的具体实现,专门处理计划收尾,中,中,低
适配器模式,结构型模式,接口适配,ToolCallBiFunctionDef,目标接口,定义统一的工具调用接口,统一不同工具的调用方式,高,低,高
适配器模式,结构型模式,接口适配,AbstractBaseTool,适配器,适配不同工具到统一接口,封装工具差异性,高,中,高
观察者模式,行为型模式,状态变化通知,AgentState,主题状态,定义智能体的各种状态,提供状态变化通知,低,低,中
观察者模式,行为型模式,状态变化通知,BaseAgent,观察者,观察和响应状态变化,根据状态执行相应逻辑,低,中,中
单例模式,创建型模式,服务实例管理,LlmService,单例服务,管理LLM服务的唯一实例,确保服务实例唯一性,中,低,低
单例模式,创建型模式,服务实例管理,UserInputService,单例服务,管理用户输入服务的唯一实例,避免状态冲突,中,低,低
依赖注入模式,结构型模式,依赖管理,AgentServiceImpl,服务类,通过依赖注入获取所需服务,降低组件间耦合,高,低,高
依赖注入模式,结构型模式,依赖管理,ModelServiceImpl,服务类,通过依赖注入获取所需服务,便于测试和扩展,高,低,高
依赖注入模式,结构型模式,依赖管理,所有Controller类,控制器,通过依赖注入获取业务服务,分离展示层和业务层,高,低,中
建造者模式,创建型模式,复杂对象构建,ExecutionContext,产品类,执行上下文的复杂对象,封装执行相关信息,中,中,中
建造者模式,创建型模式,复杂对象构建,AgentConfig,产品类,智能体配置的复杂对象,封装智能体配置信息,中,中,中
建造者模式,创建型模式,复杂对象构建,ModelConfig,产品类,模型配置的复杂对象,封装模型连接配置,中,中,中
责任链模式,行为型模式,请求处理链,执行步骤处理,处理器链,按顺序处理执行步骤,灵活的处理流程,低,中,高
责任链模式,行为型模式,请求处理链,ExecutionStep,处理节点,单个执行步骤的处理节点,封装单步处理逻辑,低,低,中
代理模式,结构型模式,服务代理,各种Repository接口,代理接口,为数据访问提供代理,隐藏数据访问细节,高,低,中
代理模式,结构型模式,服务代理,Spring JPA实现,代理实现,实际的数据访问代理,提供透明的数据访问,高,低,低
装饰器模式,结构型模式,功能增强,ToolExecuteResult,被装饰对象,工具执行结果的基础对象,提供基本结果信息,中,低,中
装饰器模式,结构型模式,功能增强,错误处理装饰,装饰器,为结果添加错误处理能力,增强错误处理功能,中,中,中
外观模式,结构型模式,接口简化,ManusController,外观类,为复杂的后端服务提供简化接口,简化客户端调用,高,低,中
外观模式,结构型模式,接口简化,AgentController,外观类,为智能体管理提供简化接口,隐藏服务复杂性,高,低,中
外观模式,结构型模式,接口简化,ModelController,外观类,为模型管理提供简化接口,统一模型操作入口,高,低,中
命令模式,行为型模式,操作封装,ExecutionStep,命令对象,封装执行步骤的命令,可撤销和重做操作,中,中,高
命令模式,行为型模式,操作封装,ToolExecuteResult,命令结果,命令执行的结果对象,记录执行状态和结果,中,低,中
状态模式,行为型模式,状态管理,AgentState,状态接口,定义智能体的各种状态,状态驱动的行为变化,中,低,中
状态模式,行为型模式,状态管理,BaseAgent,上下文,持有当前状态并委托行为,根据状态执行不同逻辑,中,中,中
桥接模式,结构型模式,实现分离,ILlmService,抽象接口,定义LLM服务的抽象,分离接口和实现,中,低,高
桥接模式,结构型模式,实现分离,LlmService,具体实现,LLM服务的具体实现,可切换不同LLM提供商,中,中,高
访问者模式,行为型模式,操作分离,各种Entity类,被访问对象,数据实体对象,分离数据结构和操作,低,中,中
访问者模式,行为型模式,操作分离,映射方法,访问者,将实体映射为VO对象,在不修改实体的情况下添加操作,低,低,高
备忘录模式,行为型模式,状态保存,PlanExecutionRecordEntity,备忘录,保存执行计划的历史状态,支持状态回滚和历史查询,中,低,中
备忘录模式,行为型模式,状态保存,版本控制相关类,发起人,创建和管理备忘录,提供状态快照能力,中,中,中
中介者模式,行为型模式,对象协调,PlanningCoordinator,中介者,协调计划处理的各个组件,减少组件间直接依赖,中,中,高
中介者模式,行为型模式,对象协调,各个规划组件,同事类,参与协调的具体组件,通过中介者进行交互,中,中,中
解释器模式,行为型模式,语言解释,提示词模板系统,解释器,解释和执行提示词模板,支持动态模板渲染,低,高,高
解释器模式,行为型模式,语言解释,变量替换逻辑,表达式,模板中的变量表达式,提供灵活的模板语法,低,中,高